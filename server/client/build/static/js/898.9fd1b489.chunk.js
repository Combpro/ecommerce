"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[898],{3898:function(e,t,s){s.r(t),s.d(t,{default:function(){return N}});var a=s(4165),r=s(5861),l=s(4942),d=s(1413),n=s(885),c=s(2791),m=s(6856),i=s(8820),o=s(4373),x=s(7689),u=s(1405),h=s(8877),p=s(8174),f=(s(5462),s(8257)),g=s(184),N=function(e){var t=e.setProgress,s=(0,x.s0)(),N=(0,u.I0)(),j=(0,c.useState)(1),b=(0,n.Z)(j,2),y=b[0],v=b[1],w=(0,c.useState)(!1),k=(0,n.Z)(w,2),S=k[0],C=k[1],q=(0,c.useState)(),Z=(0,n.Z)(q,2),A=Z[0],I=Z[1],O=(0,c.useState)(0),T=(0,n.Z)(O,2),F=T[0],D=T[1],P=(0,c.useState)(!0),J=(0,n.Z)(P,2),L=J[0],Y=J[1],z=(0,c.useState)(0),E=(0,n.Z)(z,2),H=E[0],M=E[1],R=(0,u.v9)((function(e){return e.userLoginStatusReducer.isSignedIn})),U=(0,u.v9)((function(e){return e.checkoutUserDataFetchCache}));(0,c.useEffect)((function(){if(localStorage.getItem("cartItems")){var e=JSON.parse(localStorage.getItem("cartItems"));I(e);var t=0,s=0,a=0;Object.keys(e).map((function(r){s+=e[r].product.discountedPrice*e[r].qty,t+=e[r].product.originalPrice*e[r].qty,a+=e[r].qty})),D(s),M(Math.round((t-s)/t*100)),s>0&&Y(!1),localStorage.setItem("cartCount",JSON.stringify(a))}}),[y]);var X=(0,c.useState)(U||{firstName:"",lastName:"",address:"",phone:"",pincode:"",state:"",district:"",addressType:""}),G=(0,n.Z)(X,2),W=G[0],B=G[1],K={position:"top-right",autoClose:1e4,pauseOnHover:!0,draggable:!1,theme:"dark"},Q=function(){var e=W.firstName,t=W.lastName,s=W.address,a=W.phone,r=W.pincode,l=W.state,d=W.district,n=W.addressType;return e.length<3||t.length<3?(p.Am.error("Name should be of atleast 3 in length",K),!1):""===s?(p.Am.error("Address cannot be blank",K),!1):a.length<10||a.length>10?(p.Am.error("Number should be of 10 digits",K),!1):""===r?(p.Am.error("Pincode cannot be blank",K),!1):""===l?(p.Am.error("State cannot be blank",K),!1):""===d?(p.Am.error("District cannot be blank",K),!1):""!==n||(p.Am.error("Address Type cannot be blank",K),!1)},V=function(e){C(!0),B((0,d.Z)((0,d.Z)({},W),{},(0,l.Z)({},e.target.id,e.target.value)))},$=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var r,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(10),e.next=3,fetch("/admin/userData",{method:"GET",credentials:"include"});case 3:return r=e.sent,t(40),e.next=7,r.json();case 7:l=e.sent,404===r.status&&s("/signin"),t(70),l.found&&(B(l.user),N({type:"checkOutUserData",payload:l.user})),t(100);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){null===U&&$()}),[]);var _=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!Q()){e.next=9;break}if(!(F>0)){e.next=9;break}return e.next=5,fetch("/admin/checkout",{method:"POST",credentials:"include",headers:{"Content-type":"application/json"},body:JSON.stringify({firstName:W.firstName,lastName:W.lastName,address:W.address,phone:W.phone,pincode:W.pincode,state:W.state,district:W.district,addressType:W.addressType,onChange:S})});case 5:return s=e.sent,e.next=8,s.json();case 8:e.sent;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return"false"===R?(0,g.jsx)(f.Z,{}):(0,g.jsxs)("div",{className:"p-8 flex flex-col bg-gray-100 smm:p-4 justify-center",children:[(0,g.jsxs)("div",{className:"main-heading flex flex-col justify-center items-center",children:[(0,g.jsx)("h1",{className:"text-royal-blue mdm:text-2xl md:text-4xl font-semibold",children:"Shopping Cart"}),(0,g.jsx)("p",{className:"border-b-4 border-red-500 w-20 mx-auto mt-3"})]}),(0,g.jsxs)("div",{className:"checkout-details mt-8 flex justify-center items-center gap-8 mdm:flex-wrap-reverse",children:[(0,g.jsxs)("div",{className:"user-details bg-white p-4 flex flex-col justify-center items-center w-2/3 mdm:w-full rounded-lg",children:[(0,g.jsx)("div",{className:"heading",children:(0,g.jsx)("h1",{className:"mdm:text-lg md:text-2xl italic font-semibold text-royal-blue border-b-2 border-gray-300",children:"Shipping Address"})}),(0,g.jsxs)("div",{className:"user-fields bg-gray-200 mt-4 p-4 w-full rounded-lg",children:[(0,g.jsxs)("div",{className:"name flex gap-2",children:[(0,g.jsxs)("div",{className:"name mb-4 flex flex-col gap-2 w-1/2 ",children:[(0,g.jsx)("label",{htmlFor:"firstName",className:"text-lg smm:text-sm",children:"First Name: *"}),(0,g.jsx)("input",{type:"text",name:"firstName",id:"firstName",placeholder:"Your First Name",value:W.firstName,onChange:V,required:!0,className:"p-3 rounded-lg focus:outline-none placeholder:text-lg smm:placeholder:text-sm border border-gray-300"})]}),(0,g.jsxs)("div",{className:"name mb-4 flex flex-col gap-2 w-1/2",children:[(0,g.jsx)("label",{htmlFor:"lastName",className:"text-lg smm:text-sm",children:"Last Name: *"}),(0,g.jsx)("input",{type:"text",name:"lastName",id:"lastName",placeholder:"Your Last Name",value:W.lastName,onChange:V,required:!0,className:"p-3 rounded-lg focus:outline-none placeholder:text-lg smm:placeholder:text-sm border border-gray-300"})]})]}),(0,g.jsxs)("div",{className:"address mb-4 flex flex-col gap-2 w-full",children:[(0,g.jsx)("label",{htmlFor:"address",className:"text-lg smm:text-sm",children:"Address: *"}),(0,g.jsx)("textarea",{type:"text",name:"address",id:"address",onChange:V,value:W.address,required:!0,rows:3,cols:10,placeholder:"Your Address",className:"p-3 rounded-lg focus:outline-none placeholder:text-lg smm:placeholder:text-sm border border-gray-300"})]}),(0,g.jsxs)("div",{className:"flex gap-2 smm:flex-col",children:[(0,g.jsxs)("div",{className:"phone mb-4 flex flex-col gap-2 w-1/2 smm:w-full",children:[(0,g.jsx)("label",{htmlFor:"phone",className:"text-lg smm:text-sm",children:"Phone Number: *"}),(0,g.jsx)("input",{type:"text",name:"phone",id:"phone",placeholder:"Phone Number",value:W.phone,onChange:V,required:!0,className:"p-3 rounded-lg focus:outline-none placeholder:text-lg smm:placeholder:text-sm border border-gray-300"})]}),(0,g.jsxs)("div",{className:"pincode mb-4 flex flex-col gap-2 w-1/2 smm:w-full",children:[(0,g.jsx)("label",{htmlFor:"pincode",className:"text-lg smm:text-sm",children:"Pincode: *"}),(0,g.jsx)("input",{type:"text",name:"pincode",id:"pincode",placeholder:"Pincode",onChange:V,value:W.pincode,required:!0,className:"p-3 rounded-lg focus:outline-none placeholder:text-lg smm:placeholder:text-sm border border-gray-300"})]})]}),(0,g.jsxs)("div",{className:"flex gap-2 smm:flex-col",children:[(0,g.jsxs)("div",{className:"state mb-4 flex flex-col gap-2 w-1/2 smm:w-full",children:[(0,g.jsx)("label",{htmlFor:"state",className:"text-lg smm:text-sm",children:"State: *"}),(0,g.jsx)("input",{type:"text",name:"state",id:"state",placeholder:"State",value:W.state,onChange:V,required:!0,className:"p-3 rounded-lg focus:outline-none placeholder:text-lg smm:placeholder:text-sm border border-gray-300"})]}),(0,g.jsxs)("div",{className:"district mb-4 flex flex-col gap-2 w-1/2 smm:w-full",children:[(0,g.jsx)("label",{htmlFor:"district",className:"text-lg smm:text-sm",children:"District: *"}),(0,g.jsx)("input",{type:"text",name:"district",id:"district",placeholder:"District",value:W.district,onChange:V,required:!0,className:"p-3 rounded-lg focus:outline-none placeholder:text-lg smm:placeholder:text-sm border border-gray-300"})]})]}),(0,g.jsxs)("div",{className:"name mb-4 flex flex-col gap-2",children:[(0,g.jsx)("label",{htmlFor:"addressType",className:"text-lg smm:text-sm",children:"Address Type: *"}),(0,g.jsxs)("div",{className:"radio flex flex-wrap gap-2 items-center",children:[(0,g.jsx)("input",{type:"radio",name:"address-type",id:"addressType",onChange:V,value:"home",checked:"home"===W.addressType,required:!0}),"Home ",(0,g.jsx)("span",{className:"text-gray-500 text-sm mt-0.5",children:"(All Day Delivery)"}),(0,g.jsx)("input",{type:"radio",name:"address-type",id:"addressType",onChange:V,value:"office",checked:"office"===W.addressType,className:"md:ml-8",required:!0}),"Office ",(0,g.jsx)("span",{className:"text-gray-500 text-sm mt-0.5",children:"(Delivery between 10AM-5PM)"})]})]}),(0,g.jsx)("div",{className:"pay-btn mt-10",children:(0,g.jsx)("button",{onClick:_,className:"".concat(L?"bg-red-200 px-4 py-2 rounded-md h-12 text-lg text-white font-bold mdm:p-2 mdm:mx-auto lgm:mx-auto mdm:w-2/3 cursor-text":"bg-red-500 px-4 py-2 rounded-md h-12 text-lg text-white hover:bg-red-600 font-bold drop-shadow-lg hover:drop-shadow-2xl mdm:p-2 mdm:mx-auto lgm:mx-auto mdm:w-2/3"),children:"Pay Now"})})]})]}),(0,g.jsxs)("div",{className:"product-details bg-white p-4 w-1/3 mdm:w-full flex flex-col justify-center items-center rounded-lg",children:[(0,g.jsx)("div",{className:"order-heading",children:(0,g.jsx)("h1",{className:"text-royal-blue mdm:text-lg md:text-2xl font-semibold border-b-2 border-gray-300 italic",children:"Your Order"})}),(0,g.jsx)("div",{className:"product-details mt-1 overflow-auto mdm:h-[50vh] max-h-[60vh] w-full",children:A&&0!==Object.keys(A).length?Object.keys(A).map((function(e,t){return(0,g.jsxs)("div",{className:"flex justify-between items-center mdm:gap-4 gap-10 mt-6 border-t-2 border-gray-300 p-2 pt-4 mr-8 mdm:mr-2",children:[(0,g.jsx)("div",{className:"product-image w-2/5",children:(0,g.jsx)("img",{src:A[e].product.productImage,loading:"lazy",alt:"product",className:"h-28 w-28 rounded-lg"})}),(0,g.jsxs)("div",{className:"pdt-detail w-1/2",children:[(0,g.jsx)("h1",{className:"font-semibold text-lg smm:text-sm",children:"".concat(A[e].product.name," X ").concat(A[e].qty)}),(0,g.jsxs)("div",{className:"pdt-specs flex gap-4",children:[(0,g.jsxs)("h3",{className:"text-gray-400",children:["Size: ",(0,g.jsx)("span",{className:"text-black",children:"XL"})]}),(0,g.jsxs)("h3",{className:"text-gray-400",children:["Color: ",(0,g.jsx)("span",{className:"text-black",children:"Red"})]})]}),(0,g.jsxs)("h1",{className:"font-semibold text-lg smm:text-sm",children:["\u20b9",A[e].product.discountedPrice,"/-"]}),(0,g.jsx)("div",{className:"flex flex-col",children:(0,g.jsxs)("p",{className:"flex items-center md:justify-start gap-1 text-lg smm:text-sm cursor-pointer",children:[(0,g.jsx)(i.n6z,{className:"text-red-500",onClick:function(){return function(e){var t=A[e];t.qty>1?(t.qty--,v(y-1),N((0,h.Ni)(1))):(v(1),t.qty=t.qty),localStorage.setItem("cartItems",JSON.stringify(A))}(e)}})," ",A[e].qty," ",(0,g.jsx)(o.Lgw,{className:"text-red-500",onClick:function(){return t=e,N((0,h.bH)(1)),v(y+1),A[t].qty++,void localStorage.setItem("cartItems",JSON.stringify(A));var t}})]})})]}),(0,g.jsx)("div",{className:"edit-pdt w-1/12",children:(0,g.jsx)("div",{className:"cursor-pointer",children:(0,g.jsx)(m.ZkW,{className:"mdm:text-xl text-2xl text-red-500",onClick:function(){return function(e){v(y-1);var t=A[e].qty;N((0,h.Ni)(t)),delete A[e],Y(!0),localStorage.setItem("cartItems",JSON.stringify(A))}(e)}})})})]},t)})):(0,g.jsx)("div",{className:"no-item flex justify-center items-center h-full",children:(0,g.jsx)("h1",{className:"text-2xl text-center",children:"No items are added."})})}),(0,g.jsxs)("div",{className:"p-2 w-full flex flex-col justify-center",children:[F>0?(0,g.jsxs)("div",{className:"delivery-charges mt-1 flex flex-col justify-center items-center border-t-2 border-gray-300 p-2 pt-4 mr-8 vsmm:mr-2",children:[(0,g.jsxs)("div",{className:"charge flex justify-between items-center w-full ",children:[(0,g.jsx)("h2",{className:"text-gray-400 text-lg smm:text-sm",children:"Delivery"}),(0,g.jsx)("h2",{className:"text-lg smm:text-sm",children:"\u20b9120/-"})]}),H>0?(0,g.jsxs)("div",{className:"discount flex justify-between items-center w-full",children:[(0,g.jsx)("h2",{className:"text-gray-400 text-lg smm:text-sm",children:"Discount"}),(0,g.jsxs)("h2",{className:"text-lg smm:text-sm",children:[H,"%"]})]}):(0,g.jsx)(g.Fragment,{})]}):(0,g.jsx)(g.Fragment,{}),(0,g.jsx)("div",{className:"total flex flex-col justify-center items-center border-t-2 border-gray-300 p-2 pt-4 mr-8 vsmm:mr-2",children:(0,g.jsxs)("div",{className:"w-full flex justify-between items-center",children:[(0,g.jsx)("h2",{className:"font-semibold text-xl smm:text-sm",children:"Total"}),(0,g.jsxs)("h2",{className:"text-lg smm:text-sm",children:["\u20b9",F,"/-"]})]})})]})]})]})]})}}}]);
//# sourceMappingURL=898.9fd1b489.chunk.js.map